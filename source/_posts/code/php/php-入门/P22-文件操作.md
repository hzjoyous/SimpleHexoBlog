---
title: 'PHP[入门]P22-文件操作'
date: '2017-01-01T09:01:22+08:00'
tags:
    - php
categories:
    - php

---



> 这是我早期的 php 学习笔记，php 的学习版本版本是 5.6、7，🐟2020/05/06年从有道笔记导出至此。


缩放:

1.打开或者准备一张图片

2.自己计算尺寸，(直接给一个倍数，形参);

3.变成一张新的图片

4.保存

5.销毁

\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

day22 文件函数

路径相关的函数

pathinfo(\'文件的路径+名字\') 文件的具体信息

dirname(); 路径的名

basename 获取的是文件的名字

realpath() 返回绝对路径 从磁盘根部开始

DIRECTORY\_SEPARATOR: 返回的是目录分隔符（系统）

【注】： windows / \\都能识别 获取到时\\

linux 系统是/ 正斜线

文件内容的相关函数

整体：

file\_get\_contents(\'文件的名\'):
获取文件中的全部内容//不仅可以传一个文件名，还可以是一个url

file\_put\_contents(\'文件\',\'内容\');
可以将内容写入到文件中，成功返回字节数，失败返回false

【注】：将原来的文件内容覆盖

【了解】readfile 将文件的内容输出到缓冲区，真正返回的值是字节数

内容：

\*\*fopen(\'文件\', \'打开的方式\') 打开一个文件,

打开方式：

r: 只读的方式打开 文件不存在的时候会报警告错误

r+：以读写的方式打开, 从头覆盖内容进行写入

w: 以写入的方式打开 如果文件存在会将文件内容清零，打开的文件不存在则创建

w+：可读可写： 文件不存在创建，存在内容清零

a: 追加写入， 不能读文件不存在创建，指针指向文件末尾

a+：读写方式打开 写的方式追加 文件不存在创建

x: 创建文件以写入的方式打开，如果文件存在报警告错误

x+: 创建文件并与读写的方式打开

c: 以只写的方式打开，会从头覆盖内容写入，文件不存在则创建

c+: 以读写方式打开，同上

\*\*fread(\'打开的资源\', \'读取的字节数\');返回的是限制读取的字节

\*\*fwrite(\'操作的资源\', \'写入的字符\')

\*rewind() ：将文件指针返回到文件流的开头位置

fseek(): 设置指针的位置：

参数：资源，移动的字节数，

常量 SEEK\_SET/开头SEEK\_CUR/当前 SEEK\_END/结尾

ftell() 获取当前文件中指针的位置

feof ()\[end of file\]判断指针在不在结尾

//最后一个字节数或者出错时候返回true 其余返回false

fgetc() 读取出来一个字节， 指针位置保留

fgets() 读取一行 指针的位置保留

\*fgetss() 读取一行 去掉内容中的html标签

fclose() 关闭这个文件

文件锁：

flock()

常量参数：

LOCK\_SH：共享锁

LOCK\_EX: 独占锁

LOCK\_UN: 解锁

文件判断相关 （状态）

file\_exists();判断文件是否存在 存在 true 不存在false

is\_file() :参数名是否是一个文件

is\_dir(): 参数是否是一个目录

is\_readable(): 判断文件是否可读

is\_writeable():判断文件是否可写

is\_executable(); 是否是一个可执行的文件 //window .exe

filesize() :文件字节数

filectime() : 创建时间

filemtime(): 修改时间

文件相关的函数

touch(): 创建一个文件

unlink(): 删除一个文件

copy(): 1.要拷贝的文件 2.拷贝后新文件的名字（要拷贝的路径+mingzi）

rename(): 重命名：文件 目录

目录的操作

mkdir(): 新建目录

rmdir() : 删除目录 (删除空目录)

rename()修改目录名

copy() 拷贝目录

opendir() :打开目录

readdir()读取目录

closedir()关闭目录

文件的属性

\-\-\-\-\-\-\-\-\--

作业： 拷贝：大文件 ：一边读，一边写
